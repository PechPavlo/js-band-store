{"version":3,"sources":["redux/reducers.js","redux/store.js","redux/actions.js","assets/image/icon/shopping-cart.svg","components/Header/Header.jsx","components/LoginPage/LoginPage.jsx","components/BookCard/BookCard.jsx","components/Main/Main.jsx","components/CartTable/CartTable.jsx","components/Purchase/Purchase.jsx","components/Cart/Cart.jsx","assets/image/icon/tags.svg","components/BookDetails/BookDetails.jsx","components/NotFound/NotFound.jsx","App.jsx","index.jsx"],"names":["reducer","state","action","type","user","isAuthorized","error","message","userName","payload","username","avatar","token","booksCatalog","isLoading","books","book","details","purchase","isActive","cart","initUser","localStorage","pechPavloBookStore","JSON","parse","defaultState","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","axios","defaults","baseURL","getBooksCatalog","dispatch","get","headers","Authorization","then","res","data","catch","getBooksCatalogFailure","getBookDetails","id","getBookDetailsFailure","Header","useDispatch","useSelector","className","onClick","removeItem","activeClassName","to","src","cartIcon","alt","length","LoginPage","useState","inputValue","setInputValue","isNameValid","setIsNameValid","onSubmit","event","preventDefault","trim","post","stringify","authorizeUserFailure","htmlFor","placeholder","required","value","onChange","target","BookCard","props","cardBook","history","useHistory","cover","title","author","price","push","Main","filteredByPrice","setFilteredByPrice","filteredBySearch","setFilteredBySearch","searchValue","setSearchValue","useEffect","list","name","toLowerCase","filter","el","includes","onFocus","map","range","split","min","max","CartTable","booksInCartSet","Set","getBookDetailsInCart","currentBook","find","countInCart","reduce","acc","currentPrice","currentName","currentTotalPrice","toFixed","currBook","Purchase","handleClose","role","tabIndex","onKeyPress","Cart","disabled","purchaseBooksFailure","BookDetails","useParams","isDataValid","bookCount","setBookCount","overCountMessage","setOverCountMessage","booksInCart","maxBookCount","count","booksToAdd","Array","fill","tags","tag","toUpperCase","slice","join","description","tagsIcon","NotFound","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d5b82f9.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'AUTHORIZE_USER_STARTED':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          isAuthorized: false,\r\n          error: null,\r\n        },\r\n        error: null,\r\n        message: null,\r\n      };\r\n\r\n    case 'AUTHORIZE_USER_SUCCESS':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          isAuthorized: true,\r\n          userName: action.payload.username,\r\n          avatar: action.payload.avatar,\r\n          token: action.payload.token,\r\n        },\r\n      };\r\n\r\n    case 'AUTHORIZE_USER_FAILURE':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          isAuthorized: true,\r\n          error: action.payload.error,\r\n        },\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case 'GET_BOOK_CATALOG_STARTED':\r\n      return {\r\n        ...state,\r\n        booksCatalog: {\r\n          ...state.booksCatalog,\r\n          isLoading: true,\r\n          error: null,\r\n        },\r\n        error: null,\r\n        message: null,\r\n      };\r\n\r\n    case 'GET_BOOK_CATALOG_SUCCESS':\r\n      return {\r\n        ...state,\r\n        booksCatalog: {\r\n          ...state.booksCatalog,\r\n          isLoading: false,\r\n          books: action.payload,\r\n        },\r\n      };\r\n\r\n    case 'GET_BOOK_CATALOG_FAILURE':\r\n      return {\r\n        ...state,\r\n        booksCatalog: {\r\n          ...state.booksCatalog,\r\n          isLoading: false,\r\n          error: action.payload.error,\r\n        },\r\n        error: action.payload.error,\r\n        message: 'You should reauthorize.',\r\n      };\r\n\r\n    case 'GET_BOOK_DETAILS_STARTED':\r\n      return {\r\n        ...state,\r\n        book: {\r\n          ...state.book,\r\n          isLoading: true,\r\n          error: null,\r\n        },\r\n        error: null,\r\n        message: null,\r\n      };\r\n\r\n    case 'GET_BOOK_DETAILS_SUCCESS':\r\n      return {\r\n        ...state,\r\n        book: {\r\n          ...state.book,\r\n          isLoading: false,\r\n          details: action.payload,\r\n        },\r\n      };\r\n\r\n    case 'GET_BOOK_DETAILS_FAILURE':\r\n      return {\r\n        ...state,\r\n        book: {\r\n          ...state.book,\r\n          isLoading: false,\r\n          error: action.payload.error,\r\n        },\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case 'PURCHASE_BOOKS_STARTED':\r\n      return {\r\n        ...state,\r\n        purchase: {\r\n          ...state.purchase,\r\n          isLoading: true,\r\n          error: null,\r\n        },\r\n        error: null,\r\n      };\r\n\r\n    case 'PURCHASE_BOOKS_SUCCESS':\r\n      return {\r\n        ...state,\r\n        purchase: {\r\n          ...state.purchase,\r\n          isActive: true,\r\n          isLoading: false,\r\n          message: action.payload,\r\n        },\r\n        cart: {\r\n          ...state.cart,\r\n          books: [],\r\n        },\r\n      };\r\n\r\n    case 'PURCHASE_BOOKS_FAILURE':\r\n      return {\r\n        ...state,\r\n        purchase: {\r\n          ...state.purchase,\r\n          isLoading: false,\r\n          error: action.payload.error,\r\n        },\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case 'RESET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n\r\n    case 'CLOSE_PURCHASE_MODAL':\r\n      return {\r\n        ...state,\r\n        purchase: {\r\n          ...state.purchase,\r\n          isActive: false,\r\n          message: null,\r\n          books: [],\r\n        },\r\n      };\r\n\r\n    case 'ADD_TO_CART':\r\n      return {\r\n        ...state,\r\n        cart: {\r\n          ...state.cart,\r\n          books: [\r\n            ...state.cart.books,\r\n            ...action.payload,\r\n          ],\r\n        },\r\n        purchase: {\r\n          ...state.purchase,\r\n          books: [\r\n            ...state.purchase.books,\r\n            ...action.payload,\r\n          ],\r\n        },\r\n      };\r\n\r\n    case 'SIGN_OUT':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          isAuthorized: false,\r\n          userName: '',\r\n          avatar: '',\r\n          token: '',\r\n        },\r\n      };\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","/* eslint-disable no-underscore-dangle */\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './reducers';\r\n\r\nconst initUser = localStorage.pechPavloBookStore && JSON.parse(localStorage.pechPavloBookStore);\r\n\r\nconst defaultState = {\r\n  isLoading: false,\r\n  user: {\r\n    isAuthorized: !!initUser,\r\n    isLoading: false,\r\n    userName: initUser?.username || '',\r\n    token: initUser?.token || '',\r\n    avatar: initUser?.avatar || '',\r\n    error: null,\r\n  },\r\n  booksCatalog: {\r\n    books: [],\r\n    isLoading: false,\r\n    error: null,\r\n  },\r\n  book: {\r\n    details: {},\r\n    // isActive: false,\r\n    isLoading: false,\r\n    error: null,\r\n  },\r\n  cart: {\r\n    // isActive: false,\r\n    books: [],\r\n  },\r\n  purchase: {\r\n    isActive: false,\r\n    isLoading: false,\r\n    books: [],\r\n    message: null,\r\n    error: null,\r\n  },\r\n  error: null,\r\n  message: null,\r\n};\r\n\r\nconst composeEnhancers = typeof window === 'object'\r\n  && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n    // Specify extensionâ€™s options like name, actionsBlacklist, actionsCreators, serialize...\r\n  }) : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  defaultState,\r\n  enhancer,\r\n);\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://js-band-store-api.glitch.me/';\r\n\r\nexport const authorizeUserStarted = () => ({\r\n  type: 'AUTHORIZE_USER_STARTED',\r\n});\r\n\r\nexport const authorizeUserSuccess = (users) => ({\r\n  type: 'AUTHORIZE_USER_SUCCESS',\r\n  payload: users,\r\n});\r\n\r\nexport const authorizeUserFailure = (error) => ({\r\n  type: 'AUTHORIZE_USER_FAILURE',\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const getBooksCatalogStarted = () => ({\r\n  type: 'GET_BOOK_CATALOG_STARTED',\r\n});\r\n\r\nexport const getBooksCatalogSuccess = (books) => ({\r\n  type: 'GET_BOOK_CATALOG_SUCCESS',\r\n  payload: books,\r\n});\r\n\r\nexport const getBooksCatalogFailure = (error) => ({\r\n  type: 'GET_BOOK_CATALOG_FAILURE',\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const getBooksCatalog = (token) => (dispatch) => {\r\n  dispatch(getBooksCatalogStarted());\r\n  axios\r\n    .get('books', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      dispatch(getBooksCatalogSuccess(res.data));\r\n    })\r\n    .catch((error) => dispatch(getBooksCatalogFailure(error.message)));\r\n};\r\n\r\nexport const getBookDetailsStarted = () => ({\r\n  type: 'GET_BOOK_DETAILS_STARTED',\r\n});\r\n\r\nexport const getBookDetailsSuccess = (book) => ({\r\n  type: 'GET_BOOK_DETAILS_SUCCESS',\r\n  payload: book,\r\n});\r\n\r\nexport const getBookDetailsFailure = (error) => ({\r\n  type: 'GET_BOOK_DETAILS_FAILURE',\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const getBookDetails = (token, id) => (dispatch) => {\r\n  dispatch(getBookDetailsStarted());\r\n  axios\r\n    .get(`books/${id}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      dispatch(getBookDetailsSuccess(res.data));\r\n    })\r\n    .catch((error) => dispatch(getBookDetailsFailure(error.message)));\r\n};\r\n\r\nexport const authorizeUser = (userName) => (dispatch) => {\r\n  dispatch(authorizeUserStarted());\r\n  axios\r\n    .post('signin', { username: userName })\r\n    .then((res) => {\r\n      localStorage.pechPavloBookStore = JSON.stringify(res.data);\r\n      dispatch(authorizeUserSuccess(res.data));\r\n      dispatch(getBooksCatalog(res.data.token));\r\n    })\r\n    .catch((error) => dispatch(authorizeUserFailure(error.message)));\r\n};\r\n\r\nexport const purchaseBooksStarted = () => ({\r\n  type: 'PURCHASE_BOOKS_STARTED',\r\n});\r\n\r\nexport const purchaseBooksSuccess = (message) => ({\r\n  type: 'PURCHASE_BOOKS_SUCCESS',\r\n  payload: message,\r\n});\r\n\r\nexport const purchaseBooksFailure = (error) => ({\r\n  type: 'PURCHASE_BOOKS_FAILURE',\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const purchaseBooks = (token, books) => (dispatch) => {\r\n  dispatch(purchaseBooksStarted());\r\n  axios\r\n    .post('purchase',\r\n      {\r\n        books: [...books],\r\n      }, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n    .then((res) => {\r\n      dispatch(purchaseBooksSuccess(res.data));\r\n    })\r\n    .catch((error) => dispatch(purchaseBooksFailure(error.message)));\r\n};\r\n\r\nexport const resetError = () => ({\r\n  type: 'RESET_ERROR',\r\n});\r\n\r\nexport const closePurchaseModal = () => ({\r\n  type: 'CLOSE_PURCHASE_MODAL',\r\n});\r\n\r\nexport const addToCart = (books) => ({\r\n  type: 'ADD_TO_CART',\r\n  payload: books,\r\n});\r\n\r\nexport const signOut = () => ({\r\n  type: 'SIGN_OUT',\r\n});\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart.a96af164.svg\";","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { signOut } from '../../redux/actions';\r\nimport './Header.scss';\r\nimport cartIcon from '../../assets/image/icon/shopping-cart.svg';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const { user, cart } = useSelector((state) => state);\r\n  const handleSignOut = () => {\r\n    dispatch(signOut());\r\n    localStorage.removeItem('pechPavloBookStore');\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header-authorization\">\r\n        <h4 className=\"user-name\">{user.userName}</h4>\r\n        <button type=\"button\" onClick={handleSignOut}>\r\n          Sign Out\r\n        </button>\r\n      </div>\r\n      <hr />\r\n      <div className=\"header-cart\">\r\n        <NavLink activeClassName=\"nav_link-active\" className=\"to-main-button\" to=\"/js-band-store/catalog\">\r\n          <h1>JS Band Store</h1>\r\n        </NavLink>\r\n        <NavLink activeClassName=\"nav_link-active\" className=\"cart-button\" to=\"/js-band-store/cart\">\r\n          {' '}\r\n          <img src={cartIcon} className=\"shopping-cart\" alt=\"shopping-cart\" />\r\n          Cart (\r\n          {cart.books.length}\r\n          )\r\n        </NavLink>\r\n      </div>\r\n      <hr />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { authorizeUser } from '../../redux/actions';\r\nimport './LoginPage.scss';\r\n\r\nconst LoginPage = () => {\r\n  const dispatch = useDispatch();\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n\r\n  const haldleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (inputValue.trim().length > 3 && inputValue.trim().length < 17) {\r\n      dispatch(authorizeUser(inputValue.trim()));\r\n      setInputValue('');\r\n      setIsNameValid(true);\r\n    } else {\r\n      setIsNameValid(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login-page\">\r\n      <h2>JS Band Store</h2>\r\n      <form id=\"authorization\" onSubmit={haldleFormSubmit}>\r\n        {!isNameValid && (\r\n          <span className=\"name-error\">Username is not valid</span>\r\n        )}\r\n        <label htmlFor=\"name-input\">\r\n          Name\r\n          <input\r\n            id=\"name-input\"\r\n            placeholder=\"Event name\"\r\n            type=\"text\"\r\n            required\r\n            value={inputValue}\r\n            onChange={(event) => {\r\n              setIsNameValid(true);\r\n              setInputValue(event.target.value);\r\n            }}\r\n          />\r\n        </label>\r\n        <button type=\"submit\">Log In</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getBookDetails } from '../../redux/actions';\r\nimport './BookCard.scss';\r\n\r\nconst BookCard = (props) => {\r\n  const { cardBook } = props;\r\n  const { user } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  return (\r\n    <article className=\"book-card\">\r\n      <div className=\"book-card_image-container\">\r\n        <img src={cardBook.cover} alt={`cover of ${cardBook.title}`} />\r\n      </div>\r\n      <div className=\"book-card-content\">\r\n        <h3 className=\"book-card_title\">{`${cardBook.title}`}</h3>\r\n        <p className=\"book-card_subtitle\">{`${cardBook.author}`}</p>\r\n      </div>\r\n      <div className=\"book-card-footer\">\r\n        <span className=\"book-card_price\">{`${cardBook.price}$`}</span>\r\n        <button\r\n          className=\"book-card_button\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            dispatch(getBookDetails(user.token, cardBook.id));\r\n            history.push(`/js-band-store/catalog/${cardBook.id}`);\r\n          }}\r\n        >\r\n          View\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default BookCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport BookCard from '../BookCard/BookCard';\r\nimport './Main.scss';\r\n\r\nconst Main = () => {\r\n  const { booksCatalog } = useSelector((state) => state);\r\n  const [filteredByPrice, setFilteredByPrice] = useState([]);\r\n  const [filteredBySearch, setFilteredBySearch] = useState([]);\r\n  const [searchValue, setSearchValue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setFilteredBySearch(booksCatalog.books);\r\n    setFilteredByPrice(booksCatalog.books);\r\n  }, [booksCatalog]);\r\n\r\n  useEffect(() => {\r\n    setFilteredBySearch(filteredByPrice);\r\n    setSearchValue('');\r\n  }, [filteredByPrice]);\r\n\r\n  const handleSeach = (event) => {\r\n    setSearchValue(event.target.value);\r\n    const title = event.target.value.toLowerCase();\r\n    setFilteredBySearch(\r\n      filteredByPrice.filter((el) => el.title.toLowerCase().includes(title)),\r\n    );\r\n  };\r\n\r\n  const handleSeachFocus = () => {\r\n    setSearchValue('');\r\n    setFilteredBySearch(filteredByPrice);\r\n  };\r\n\r\n  const handleOnChange = (event) => {\r\n    const range = event.target.value.split(':');\r\n    const min = +range[0];\r\n    const max = +range[1];\r\n    setFilteredByPrice(\r\n      booksCatalog.books.filter((el) => el.price >= min && el.price <= max),\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div className=\"main-controls\">\r\n        <label htmlFor=\"book-seach\">\r\n          <input\r\n            list=\"books-list\"\r\n            name=\"browser\"\r\n            id=\"book-seach\"\r\n            placeholder=\"search\"\r\n            value={searchValue}\r\n            onChange={handleSeach}\r\n            onFocus={handleSeachFocus}\r\n          />\r\n\r\n          <datalist id=\"books-list\">\r\n            {filteredByPrice.map((cardBook) => (\r\n              <option value={cardBook.title} key={cardBook.id}>\r\n                {' '}\r\n              </option>\r\n            ))}\r\n          </datalist>\r\n        </label>\r\n        <label htmlFor=\"price-filter\">\r\n          <select id=\"price-filter\" onChange={handleOnChange}>\r\n            <option value=\"0:Infinity \">Price</option>\r\n            <option value=\"0:25\">{'0 < price < 25'}</option>\r\n            <option value=\"25:50\">{'25 < price < 50'}</option>\r\n            <option value=\"50:Infinity \">{'price > 50'}</option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n      <div className=\"main-content\">\r\n        <ul className=\"book-list\">\r\n          {filteredBySearch.map((cardBook) => (\r\n            <li key={cardBook.id}>\r\n              <BookCard cardBook={cardBook} />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './CartTable.scss';\r\n\r\nconst CartTable = () => {\r\n  const { purchase, booksCatalog } = useSelector((state) => state);\r\n  const booksInCartSet = [...new Set([...purchase.books])];\r\n  const getBookDetailsInCart = (id) => {\r\n    const currentBook = booksCatalog.books.find((book) => book.id === id);\r\n    const countInCart = purchase.books.reduce(\r\n      (acc, el) => (el === id ? acc + 1 : acc),\r\n      0,\r\n    );\r\n    const currentPrice = currentBook.price;\r\n    const currentName = currentBook.title;\r\n    const currentTotalPrice = +(currentPrice * countInCart).toFixed(2);\r\n    return {\r\n      currentName,\r\n      countInCart,\r\n      currentPrice,\r\n      currentTotalPrice,\r\n    };\r\n  };\r\n  const getTotalPriceInCart = () => {\r\n    const totalPriceInCart = booksInCartSet.reduce(\r\n      (acc, el) => getBookDetailsInCart(el).currentTotalPrice + acc,\r\n      0,\r\n    );\r\n    return totalPriceInCart;\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart-table\">\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Count</th>\r\n            <th>Price</th>\r\n            <th>Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {booksInCartSet.map((currBook) => (\r\n            <tr key={currBook}>\r\n              <td>{getBookDetailsInCart(currBook).currentName}</td>\r\n              <td>{getBookDetailsInCart(currBook).countInCart}</td>\r\n              <td>{getBookDetailsInCart(currBook).currentPrice}</td>\r\n              <td>{getBookDetailsInCart(currBook).currentTotalPrice}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"cart-cart_total-price\">\r\n        <p>{`Total Price: ${+getTotalPriceInCart().toFixed(2)} $`}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartTable;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { closePurchaseModal } from '../../redux/actions';\r\nimport CartTable from '../CartTable/CartTable';\r\nimport './Purchase.scss';\r\n\r\nconst Purchase = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const handleClose = (event) => {\r\n    if (event.target.id === 'purchase-wrapper' || event.target.id === 'purchase_close-button') {\r\n      dispatch(closePurchaseModal());\r\n      history.push('/js-band-store/catalog');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"purchase-wrapper\"\r\n      role=\"button\"\r\n      tabIndex=\"0\"\r\n      className=\"purchase-container\"\r\n      onClick={handleClose}\r\n      onKeyPress={handleClose}\r\n    >\r\n      <div className=\"purchase\">\r\n        <p>You successfully placed an order!</p>\r\n        <CartTable />\r\n        <div className=\"purchase-controls\">\r\n          <button\r\n            id=\"purchase_close-button\"\r\n            type=\"button\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Purchase;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { purchaseBooks } from '../../redux/actions';\r\nimport CartTable from '../CartTable/CartTable';\r\nimport Purchase from '../Purchase/Purchase';\r\nimport cartIcon from '../../assets/image/icon/shopping-cart.svg';\r\nimport './Cart.scss';\r\n\r\nconst Cart = () => {\r\n  const { cart, user, purchase } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <div className=\"cart\">\r\n        <div className=\"cart-controls\">\r\n          <button\r\n            className=\"cart_purchase-button\"\r\n            type=\"button\"\r\n            disabled={!cart.books.length}\r\n            onClick={() => {\r\n              dispatch(purchaseBooks(user.token, cart.books));\r\n            }}\r\n          >\r\n            Purchase\r\n          </button>\r\n        </div>\r\n        {!!cart.books.length && <CartTable />}\r\n        {!cart.books.length && (\r\n          <div className=\"empty-cart\">\r\n            <img src={cartIcon} alt=\"shopping-cart\" />\r\n            <p>Cart empty...</p>\r\n          </div>\r\n        )}\r\n        {purchase.isActive && <Purchase />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","export default __webpack_public_path__ + \"static/media/tags.a8ecab46.svg\";","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useParams, NavLink } from 'react-router-dom';\r\nimport { addToCart, getBookDetails } from '../../redux/actions';\r\nimport tagsIcon from '../../assets/image/icon/tags.svg';\r\nimport './BookDetails.scss';\r\n\r\nconst BookDetails = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { book, user, cart } = useSelector((state) => state);\r\n  const isDataValid = book.details?.id === id;\r\n\r\n  useEffect(() => {\r\n    if (!isDataValid) {\r\n      dispatch(getBookDetails(user.token, id));\r\n    }\r\n  }, [book]);\r\n\r\n  if (!isDataValid) {\r\n    return (\r\n      <div>\r\n        <p>Loading ...</p>\r\n        <span className=\"loading-ring\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const [bookCount, setBookCount] = useState('1');\r\n  const [overCountMessage, setOverCountMessage] = useState('');\r\n  const booksInCart = cart.books.reduce(\r\n    (acc, el) => (el === `${id}` ? acc + 1 : acc),\r\n    0,\r\n  );\r\n  const maxBookCount = book.details.count - booksInCart;\r\n  const booksToAdd = Array(+bookCount).fill(`${id}`);\r\n  const tags = book.details.tags\r\n    .map((tag) => tag[0].toUpperCase() + tag.slice(1))\r\n    .join(', ');\r\n\r\n  const handlerCountChange = (event) => {\r\n    if (event.target.value <= maxBookCount) {\r\n      setBookCount(event.target.value);\r\n      setOverCountMessage('');\r\n    } else {\r\n      setOverCountMessage(`-   max limit ${maxBookCount}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"book-details-container\">\r\n      <div className=\"book-details\">\r\n        <div className=\"book-details_image-container\">\r\n          <img\r\n            src={book.details.cover}\r\n            alt={`cover of ${book.details.title}`}\r\n          />\r\n          <span className=\"book-details_description\">\r\n            {book.details.description}\r\n          </span>\r\n        </div>\r\n        <div className=\"book-details-content\">\r\n          <h3 className=\"book-details_title\">{`${book.details.title}`}</h3>\r\n          <p className=\"book-details_subtitle\">{`${book.details.author}`}</p>\r\n          <div className=\"book-details_tags-container\">\r\n            <img src={tagsIcon} alt={`tags of ${book.details.title}`} />\r\n            <p className=\"book-details_tags\">{`${tags}`}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"book-details-cart-container\">\r\n        <div className=\"book-details-cart\">\r\n          <div className=\"book-details-cart_price\">\r\n            <p>Price, $</p>\r\n            <p>{book.details.price}</p>\r\n          </div>\r\n          <label className=\"book-count-label\" htmlFor=\"book-count\">\r\n            {`Count    ${overCountMessage}`}\r\n            <input\r\n              type=\"number\"\r\n              id=\"book-count\"\r\n              name=\"book-count\"\r\n              min=\"0\"\r\n              max={maxBookCount}\r\n              value={+bookCount}\r\n              onChange={handlerCountChange}\r\n            />\r\n          </label>\r\n          <div className=\"book-details-cart_total-price\">\r\n            <p>Total Price, $</p>\r\n            <p>{+(book.details.price * bookCount).toFixed(2)}</p>\r\n          </div>\r\n          <div className=\"book-details-cart_footer\">\r\n            <NavLink\r\n              activeClassName=\"nav_link-active\"\r\n              className=\"book-details_cart-button\"\r\n              to=\"/js-band-store/cart\"\r\n              onClick={() => {\r\n                dispatch(addToCart(booksToAdd));\r\n              }}\r\n            >\r\n              Add To Cart\r\n            </NavLink>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetails;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { resetError } from '../../redux/actions';\r\nimport './NotFound.scss';\r\n\r\nconst NotFound = () => {\r\n  const dispatch = useDispatch();\r\n  const { error } = useSelector((state) => state);\r\n  const history = useHistory();\r\n  const handleClose = (event) => {\r\n    if (event.target.id === 'not-found-wrapper' || event.target.id === 'not-found_close-button') {\r\n      dispatch(resetError());\r\n      history.push('/js-band-store/catalog');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"not-found-wrapper\"\r\n      role=\"button\"\r\n      tabIndex=\"0\"\r\n      className=\"not-found-container\"\r\n      onClick={handleClose}\r\n      onKeyPress={handleClose}\r\n    >\r\n      <div className=\"not-found\">\r\n        <h2>{error ? 'We have an error!!!' : 'Page Not Found'}</h2>\r\n        <h2>{error}</h2>\r\n        <div className=\"not-found-controls\">\r\n          <button\r\n            id=\"not-found_close-button\"\r\n            type=\"button\"\r\n          >\r\n            Go To Home Page\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  BrowserRouter as Router, Route, Redirect, Switch,\r\n} from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getBooksCatalog } from './redux/actions';\r\nimport Header from './components/Header/Header';\r\nimport LoginPage from './components/LoginPage/LoginPage';\r\nimport Main from './components/Main/Main';\r\nimport Cart from './components/Cart/Cart';\r\nimport BookDetails from './components/BookDetails/BookDetails';\r\nimport NotFound from './components/NotFound/NotFound';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    isLoading, user, book, booksCatalog, error,\r\n  } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (user.isAuthorized) dispatch(getBooksCatalog(user.token));\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div>\r\n        <p>Loading ...</p>\r\n        <span className=\"loading-ring\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/js-band-store\">\r\n          {error && <Redirect to=\"/js-band-store/not-found\" />}\r\n          {!user.isAuthorized && <Redirect to=\"/js-band-store/login\" />}\r\n          {user.isAuthorized && <Redirect to=\"/js-band-store/catalog\" />}\r\n        </Route>\r\n\r\n        <Route path=\"/js-band-store/login\">\r\n          {error && <Redirect to=\"/js-band-store/not-found\" />}\r\n          {user.isAuthorized && !booksCatalog.isLoading && <Redirect to=\"/js-band-store/catalog\" />}\r\n        </Route>\r\n\r\n        <Route exact path=\"/js-band-store/catalog\">\r\n          {error && <Redirect to=\"/js-band-store/not-found\" />}\r\n          {!user.isAuthorized && <Redirect to=\"/js-band-store/login\" />}\r\n        </Route>\r\n\r\n        <Route path=\"/js-band-store/cart\">\r\n          {error && <Redirect to=\"/js-band-store/not-found\" />}\r\n          {!user.isAuthorized && <Redirect to=\"/js-band-store/login\" />}\r\n        </Route>\r\n\r\n        <Route path=\"/js-band-store/catalog/:id\">\r\n          {error && <Redirect to=\"/js-band-store/not-found\" />}\r\n          {!user.isAuthorized && <Redirect to=\"/js-band-store/login\" />}\r\n        </Route>\r\n\r\n        <Route path=\"/js-band-store/*\">\r\n          <Redirect to=\"/js-band-store/not-found\" />\r\n        </Route>\r\n      </Switch>\r\n\r\n      <Route exact path=\"/js-band-store/not-found\" component={NotFound} />\r\n\r\n      <Route exact path=\"/js-band-store/login\" component={LoginPage} />\r\n\r\n      <Route exact path=\"/js-band-store/catalog\" component={Header} />\r\n      <Route exact path=\"/js-band-store/catalog\" component={Main} />\r\n\r\n      <Route exact path=\"/js-band-store/catalog/:id\" component={Header} />\r\n      {!book.isLoading && <Route exact path=\"/js-band-store/catalog/:id\" component={BookDetails} />}\r\n\r\n      <Route path=\"/js-band-store/cart\" component={Header} />\r\n      <Route path=\"/js-band-store/cart\" component={Cart} />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport './assets/style/index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}