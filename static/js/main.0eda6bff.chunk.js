(this["webpackJsonpjs-band-store"]=this["webpackJsonpjs-band-store"]||[]).push([[0],{46:function(e,t,o){},65:function(e,t,o){},68:function(e,t,o){},69:function(e,t,o){},70:function(e,t,o){},71:function(e,t,o){},72:function(e,t,o){},73:function(e,t,o){},74:function(e,t,o){},75:function(e,t,o){},76:function(e,t,o){"use strict";o.r(t);var a=o(1),c=o.n(a),r=o(19),s=o.n(r),n=o(3),i=o(15),j=o(37),A=o(12),b=o(2),l=function(e,t){switch(t.type){case"AUTHORIZE_USER_STARTED":return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)(Object(b.a)({},e.user),{},{isAuthorized:!1,error:null}),error:null,message:null});case"AUTHORIZE_USER_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)(Object(b.a)({},e.user),{},{isAuthorized:!0,userName:t.payload.username,avatar:t.payload.avatar,token:t.payload.token})});case"AUTHORIZE_USER_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)(Object(b.a)({},e.user),{},{isAuthorized:!0,error:t.payload.error}),error:t.payload.error});case"GET_BOOK_CATALOG_STARTED":return Object(b.a)(Object(b.a)({},e),{},{booksCatalog:Object(b.a)(Object(b.a)({},e.booksCatalog),{},{isLoading:!0,error:null}),error:null,message:null});case"GET_BOOK_CATALOG_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{booksCatalog:Object(b.a)(Object(b.a)({},e.booksCatalog),{},{isLoading:!1,books:t.payload})});case"GET_BOOK_CATALOG_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{booksCatalog:Object(b.a)(Object(b.a)({},e.booksCatalog),{},{isLoading:!1,error:t.payload.error}),error:t.payload.error,message:"You should reauthorize."});case"GET_BOOK_DETAILS_STARTED":return Object(b.a)(Object(b.a)({},e),{},{book:Object(b.a)(Object(b.a)({},e.book),{},{isLoading:!0,error:null}),error:null,message:null});case"GET_BOOK_DETAILS_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{book:Object(b.a)(Object(b.a)({},e.book),{},{isLoading:!1,details:t.payload})});case"GET_BOOK_DETAILS_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{book:Object(b.a)(Object(b.a)({},e.book),{},{isLoading:!1,error:t.payload.error}),error:t.payload.error});case"PURCHASE_BOOKS_STARTED":return Object(b.a)(Object(b.a)({},e),{},{purchase:Object(b.a)(Object(b.a)({},e.purchase),{},{isLoading:!0,error:null}),error:null});case"PURCHASE_BOOKS_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{purchase:Object(b.a)(Object(b.a)({},e.purchase),{},{isActive:!0,isLoading:!1,message:t.payload}),cart:Object(b.a)(Object(b.a)({},e.cart),{},{books:[]})});case"PURCHASE_BOOKS_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{purchase:Object(b.a)(Object(b.a)({},e.purchase),{},{isLoading:!1,error:t.payload.error}),error:t.payload.error});case"RESET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:null});case"CLOSE_PURCHASE_MODAL":return Object(b.a)(Object(b.a)({},e),{},{purchase:Object(b.a)(Object(b.a)({},e.purchase),{},{isActive:!1,message:null,books:[]})});case"ADD_TO_CART":return Object(b.a)(Object(b.a)({},e),{},{cart:Object(b.a)(Object(b.a)({},e.cart),{},{books:[].concat(Object(A.a)(e.cart.books),Object(A.a)(t.payload))}),purchase:Object(b.a)(Object(b.a)({},e.purchase),{},{books:[].concat(Object(A.a)(e.purchase.books),Object(A.a)(t.payload))})});case"SIGN_OUT":return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)(Object(b.a)({},e.user),{},{isAuthorized:!1,userName:"",avatar:"",token:""})});default:return Object(b.a)({},e)}},d=localStorage.pechPavloBookStore&&JSON.parse(localStorage.pechPavloBookStore),u={isLoading:!1,user:{isAuthorized:!!d,isLoading:!1,userName:(null===d||void 0===d?void 0:d.username)||"",token:(null===d||void 0===d?void 0:d.token)||"",avatar:(null===d||void 0===d?void 0:d.avatar)||"",error:null},booksCatalog:{books:[],isLoading:!1,error:null},book:{details:{},isLoading:!1,error:null},cart:{books:[]},purchase:{isActive:!1,isLoading:!1,books:[],message:null,error:null},error:null,message:null},O=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):i.c)(Object(i.a)(j.a)),h=Object(i.d)(l,u,O),K=(o(46),o(11)),x=o(5),p=o(16),g=o.n(p);g.a.defaults.baseURL="https://js-band-store-api.glitch.me/";var f=function(e){return function(t){t({type:"GET_BOOK_CATALOG_STARTED"}),g.a.get("books",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t({type:"GET_BOOK_CATALOG_SUCCESS",payload:e.data})})).catch((function(e){return t(function(e){return{type:"GET_BOOK_CATALOG_FAILURE",payload:{error:e}}}(e.message))}))}},m=function(e,t){return function(o){o({type:"GET_BOOK_DETAILS_STARTED"}),g.a.get("books/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){o({type:"GET_BOOK_DETAILS_SUCCESS",payload:e.data})})).catch((function(e){return o(function(e){return{type:"GET_BOOK_DETAILS_FAILURE",payload:{error:e}}}(e.message))}))}},U=(o(65),o.p+"static/media/shopping-cart.a96af164.svg"),R=o(0),v=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e})),o=t.user,a=t.cart;return Object(R.jsxs)("div",{className:"header",children:[Object(R.jsxs)("div",{className:"header-authorization",children:[Object(R.jsx)("h4",{className:"user-name",children:o.userName}),Object(R.jsx)("button",{type:"button",onClick:function(){e({type:"SIGN_OUT"}),localStorage.removeItem("pechPavloBookStore")},children:"Sign Out"})]}),Object(R.jsx)("hr",{}),Object(R.jsxs)("div",{className:"header-cart",children:[Object(R.jsx)(K.b,{activeClassName:"nav_link-active",className:"to-main-button",to:"/js-band-store/catalog",children:Object(R.jsx)("h1",{children:"JS Band Store"})}),Object(R.jsxs)(K.b,{activeClassName:"nav_link-active",className:"cart-button",to:"/js-band-store/cart",children:[" ",Object(R.jsx)("img",{src:U,className:"shopping-cart",alt:"shopping-cart"}),"Cart (",a.books.length,")"]})]}),Object(R.jsx)("hr",{})]})},k=o(13),F=(o(68),function(){var e=Object(n.b)(),t=Object(a.useState)(""),o=Object(k.a)(t,2),c=o[0],r=o[1],s=Object(a.useState)(!0),i=Object(k.a)(s,2),j=i[0],A=i[1];return Object(R.jsx)("div",{className:"login-page-wrapper",children:Object(R.jsxs)("div",{className:"login-page",children:[Object(R.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAD9AP4DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD94KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKjubqOzgaWaSOGJBlndgqr+JoAkorktV+N/h3THKrePeN0xbx7x+ZwP1rEm/aT09ZGCadfsvYl1XP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",className:"default-user",alt:"defaul user"}),Object(R.jsx)("h2",{children:"JS Band Store"}),Object(R.jsxs)("form",{id:"authorization",onSubmit:function(t){var o;t.preventDefault(),c.trim().length>3&&c.trim().length<17?(e((o=c.trim(),function(e){e({type:"AUTHORIZE_USER_STARTED"}),g.a.post("signin",{username:o}).then((function(t){localStorage.pechPavloBookStore=JSON.stringify(t.data),e({type:"AUTHORIZE_USER_SUCCESS",payload:t.data}),e(f(t.data.token))})).catch((function(t){return e(function(e){return{type:"AUTHORIZE_USER_FAILURE",payload:{error:e}}}(t.message))}))})),r(""),A(!0)):A(!1)},children:[Object(R.jsxs)("label",{htmlFor:"name-input",children:["Name",Object(R.jsx)("input",{id:"name-input",placeholder:"Name",type:"text",required:!0,value:c,onChange:function(e){A(!0),r(e.target.value)}}),!j&&Object(R.jsx)("span",{className:"name-error",children:"Username is not valid"})]}),Object(R.jsx)("button",{type:"submit",children:"Log In"})]})]})})}),C=(o(69),function(e){var t=e.cardBook,o=Object(n.c)((function(e){return e})).user,a=Object(n.b)(),c=Object(x.g)();return Object(R.jsxs)("article",{className:"book-card",children:[Object(R.jsx)("div",{className:"book-card_image-container",children:Object(R.jsx)("img",{src:t.cover,alt:"cover of ".concat(t.title)})}),Object(R.jsxs)("div",{className:"book-card-content",children:[Object(R.jsx)("h3",{className:"book-card_title",children:"".concat(t.title)}),Object(R.jsx)("p",{className:"book-card_subtitle",children:"".concat(t.author)})]}),Object(R.jsxs)("div",{className:"book-card-footer",children:[Object(R.jsx)("span",{className:"book-card_price",children:"".concat(t.price,"$")}),Object(R.jsx)("button",{className:"book-card_button",type:"button",onClick:function(){a(m(o.token,t.id)),c.push("/js-band-store/catalog/".concat(t.id))},children:"View"})]})]})}),S=o.p+"static/media/search.207a0bfb.svg",N=(o(70),function(){var e=Object(n.c)((function(e){return e})).booksCatalog,t=Object(a.useState)([]),o=Object(k.a)(t,2),c=o[0],r=o[1],s=Object(a.useState)([]),i=Object(k.a)(s,2),j=i[0],A=i[1],b=Object(a.useState)([]),l=Object(k.a)(b,2),d=l[0],u=l[1];Object(a.useEffect)((function(){A(e.books),r(e.books)}),[e]),Object(a.useEffect)((function(){A(c),u("")}),[c]);return Object(R.jsxs)("div",{className:"main",children:[Object(R.jsxs)("div",{className:"main-controls",children:[Object(R.jsxs)("label",{htmlFor:"book-seach",className:"book-seach-lable",children:[Object(R.jsx)("img",{src:S,alt:"search"}),Object(R.jsx)("input",{list:"books-list",name:"browser",id:"book-seach",placeholder:"search",value:d,onChange:function(e){u(e.target.value);var t=e.target.value.toLowerCase();A(c.filter((function(e){return e.title.toLowerCase().includes(t)})))},onFocus:function(){u(""),A(c)}}),Object(R.jsx)("datalist",{id:"books-list",children:c.map((function(e){return Object(R.jsx)("option",{value:e.title,children:" "},e.id)}))})]}),Object(R.jsx)("label",{htmlFor:"price-filter",children:Object(R.jsxs)("select",{id:"price-filter",onChange:function(t){var o=t.target.value.split(":"),a=+o[0],c=+o[1];r(e.books.filter((function(e){return e.price>=a&&e.price<=c})))},children:[Object(R.jsx)("option",{value:"0:Infinity ",children:"Price"}),Object(R.jsx)("option",{value:"0:25",children:"0 < price < 25"}),Object(R.jsx)("option",{value:"25:50",children:"25 < price < 50"}),Object(R.jsx)("option",{value:"50:Infinity ",children:"price > 50"})]})})]}),Object(R.jsx)("div",{className:"main-content",children:Object(R.jsx)("ul",{className:"book-list",children:j.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(C,{cardBook:e})},e.id)}))})})]})}),E=(o(71),function(){var e=Object(n.c)((function(e){return e})),t=e.purchase,o=e.booksCatalog,a=Object(A.a)(new Set(Object(A.a)(t.books))),c=function(e){var a=o.books.find((function(t){return t.id===e})),c=t.books.reduce((function(t,o){return o===e?t+1:t}),0),r=a.price;return{currentName:a.title,countInCart:c,currentPrice:r,currentTotalPrice:+(r*c).toFixed(2)}};return Object(R.jsxs)("div",{className:"cart-table",children:[Object(R.jsxs)("table",{className:"table",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Name"}),Object(R.jsx)("th",{children:"Count"}),Object(R.jsx)("th",{children:"Price"}),Object(R.jsx)("th",{children:"Total"})]})}),Object(R.jsx)("tbody",{children:a.map((function(e){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:c(e).currentName}),Object(R.jsx)("td",{children:c(e).countInCart}),Object(R.jsx)("td",{children:c(e).currentPrice}),Object(R.jsx)("td",{children:c(e).currentTotalPrice})]},e)}))})]}),Object(R.jsx)("div",{className:"cart-cart_total-price",children:Object(R.jsx)("p",{children:"Total Price: ".concat(+a.reduce((function(e,t){return c(t).currentTotalPrice+e}),0).toFixed(2)," $")})})]})}),B=(o(72),function(){var e=Object(n.b)(),t=Object(x.g)(),o=function(o){"purchase-wrapper"!==o.target.id&&"purchase_close-button"!==o.target.id||(e({type:"CLOSE_PURCHASE_MODAL"}),t.push("/js-band-store/catalog"))};return Object(R.jsx)("div",{id:"purchase-wrapper",role:"button",tabIndex:"0",className:"purchase-container",onClick:o,onKeyPress:o,children:Object(R.jsxs)("div",{className:"purchase",children:[Object(R.jsx)("p",{children:"You successfully placed an order!"}),Object(R.jsx)(E,{}),Object(R.jsx)("div",{className:"purchase-controls",children:Object(R.jsx)("button",{id:"purchase_close-button",type:"button",children:"Close"})})]})})}),P=(o(73),function(){var e=Object(n.c)((function(e){return e})),t=e.cart,o=e.user,a=e.purchase,c=Object(n.b)();return Object(R.jsx)("div",{className:"cart-container",children:Object(R.jsxs)("div",{className:"cart",children:[Object(R.jsx)("div",{className:"cart-controls",children:Object(R.jsx)("button",{className:"cart_purchase-button",type:"button",disabled:!t.books.length,onClick:function(){var e,a;c((e=o.token,a=t.books,function(t){t({type:"PURCHASE_BOOKS_STARTED"}),g.a.post("purchase",{books:Object(A.a)(a)},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t({type:"PURCHASE_BOOKS_SUCCESS",payload:e.data})})).catch((function(e){return t(function(e){return{type:"PURCHASE_BOOKS_FAILURE",payload:{error:e}}}(e.message))}))}))},children:"Purchase"})}),!!t.books.length&&Object(R.jsx)(E,{}),!t.books.length&&Object(R.jsxs)("div",{className:"empty-cart",children:[Object(R.jsx)("img",{src:U,alt:"shopping-cart"}),Object(R.jsx)("p",{children:"Cart empty..."})]}),a.isActive&&Object(R.jsx)(B,{})]})})}),T=o.p+"static/media/tags.a8ecab46.svg",D=(o(74),function(){var e,t=Object(x.h)().id,o=Object(n.b)(),c=Object(n.c)((function(e){return e})),r=c.book,s=c.user,i=c.cart,j=(null===(e=r.details)||void 0===e?void 0:e.id)===t;if(Object(a.useEffect)((function(){j||o(m(s.token,t))}),[r]),!j)return Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Loading ..."}),Object(R.jsx)("span",{className:"loading-ring"})]});var A=Object(a.useState)("1"),b=Object(k.a)(A,2),l=b[0],d=b[1],u=Object(a.useState)(""),O=Object(k.a)(u,2),h=O[0],p=O[1],g=i.books.reduce((function(e,o){return o==="".concat(t)?e+1:e}),0),f=r.details.count-g,U=Array(+l).fill("".concat(t)),v=r.details.tags.map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(", ");return Object(R.jsxs)("div",{className:"book-details-container",children:[Object(R.jsxs)("div",{className:"book-details",children:[Object(R.jsxs)("div",{className:"book-details_image-container",children:[Object(R.jsx)("img",{src:r.details.cover,alt:"cover of ".concat(r.details.title)}),Object(R.jsx)("span",{className:"book-details_description",children:r.details.description})]}),Object(R.jsxs)("div",{className:"book-details-content",children:[Object(R.jsx)("h3",{className:"book-details_title",children:"".concat(r.details.title)}),Object(R.jsx)("p",{className:"book-details_subtitle",children:"".concat(r.details.author)}),Object(R.jsxs)("div",{className:"book-details_tags-container",children:[Object(R.jsx)("img",{src:T,alt:"tags of ".concat(r.details.title)}),Object(R.jsx)("p",{className:"book-details_tags",children:"".concat(v)})]})]})]}),Object(R.jsx)("div",{className:"book-details-cart-container",children:Object(R.jsxs)("div",{className:"book-details-cart",children:[Object(R.jsxs)("div",{className:"book-details-cart_price",children:[Object(R.jsx)("p",{children:"Price, $"}),Object(R.jsx)("p",{children:r.details.price})]}),Object(R.jsxs)("label",{className:"book-count-label",htmlFor:"book-count",children:["Count    ".concat(h),Object(R.jsx)("input",{type:"number",id:"book-count",name:"book-count",min:"1",max:f,value:+l,onChange:function(e){e.target.value<=f?(d(e.target.value),p("")):p("-   max limit ".concat(f))}})]}),Object(R.jsxs)("div",{className:"book-details-cart_total-price",children:[Object(R.jsx)("p",{children:"Total Price, $"}),Object(R.jsx)("p",{children:+(r.details.price*l).toFixed(2)})]}),Object(R.jsx)("div",{className:"book-details-cart_footer",children:Object(R.jsx)(K.b,{activeClassName:"nav_link-active",className:"book-details_cart-button",to:"/js-band-store/cart",onClick:function(){o({type:"ADD_TO_CART",payload:U})},children:"Add To Cart"})})]})})]})}),y=(o(75),function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e})),o=t.error,a=t.message,c=Object(x.g)(),r=function(t){"not-found-wrapper"!==t.target.id&&"not-found_close-button"!==t.target.id||(e({type:"RESET_ERROR"}),c.push("/js-band-store/catalog"))};return Object(R.jsx)("div",{id:"not-found-wrapper",role:"button",tabIndex:"0",className:"not-found-container",onClick:r,onKeyPress:r,children:Object(R.jsxs)("div",{className:"not-found",children:[Object(R.jsx)("h2",{children:o?"We have an error!!!":"Page Not Found"}),Object(R.jsx)("h2",{children:o}),Object(R.jsx)("h2",{children:a}),Object(R.jsx)("div",{className:"not-found-controls",children:Object(R.jsx)("button",{id:"not-found_close-button",type:"button",children:"Go To Home Page"})})]})})});var w=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e})),o=t.isLoading,c=t.user,r=t.book,s=t.booksCatalog,i=t.error;return Object(a.useEffect)((function(){c.isAuthorized&&e(f(c.token))}),[]),o?Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Loading ..."}),Object(R.jsx)("span",{className:"loading-ring"})]}):Object(R.jsxs)(K.a,{children:[Object(R.jsxs)(x.d,{children:[Object(R.jsxs)(x.b,{exact:!0,path:"/js-band-store",children:[i&&Object(R.jsx)(x.a,{to:"/js-band-store/not-found"}),!c.isAuthorized&&Object(R.jsx)(x.a,{to:"/js-band-store/login"}),c.isAuthorized&&Object(R.jsx)(x.a,{to:"/js-band-store/catalog"})]}),Object(R.jsxs)(x.b,{path:"/js-band-store/login",children:[i&&Object(R.jsx)(x.a,{to:"/js-band-store/not-found"}),c.isAuthorized&&!s.isLoading&&Object(R.jsx)(x.a,{to:"/js-band-store/catalog"})]}),Object(R.jsxs)(x.b,{exact:!0,path:"/js-band-store/catalog",children:[i&&Object(R.jsx)(x.a,{to:"/js-band-store/not-found"}),!c.isAuthorized&&Object(R.jsx)(x.a,{to:"/js-band-store/login"})]}),Object(R.jsxs)(x.b,{path:"/js-band-store/cart",children:[i&&Object(R.jsx)(x.a,{to:"/js-band-store/not-found"}),!c.isAuthorized&&Object(R.jsx)(x.a,{to:"/js-band-store/login"})]}),Object(R.jsxs)(x.b,{path:"/js-band-store/catalog/:id",children:[i&&Object(R.jsx)(x.a,{to:"/js-band-store/not-found"}),!c.isAuthorized&&Object(R.jsx)(x.a,{to:"/js-band-store/login"})]}),Object(R.jsx)(x.b,{path:"/js-band-store/*",children:Object(R.jsx)(x.a,{to:"/js-band-store/not-found"})})]}),Object(R.jsx)(x.b,{exact:!0,path:"/js-band-store/not-found",component:y}),Object(R.jsx)(x.b,{exact:!0,path:"/js-band-store/login",component:F}),Object(R.jsx)(x.b,{exact:!0,path:"/js-band-store/catalog",component:v}),Object(R.jsx)(x.b,{exact:!0,path:"/js-band-store/catalog",component:N}),Object(R.jsx)(x.b,{exact:!0,path:"/js-band-store/catalog/:id",component:v}),!r.isLoading&&Object(R.jsx)(x.b,{exact:!0,path:"/js-band-store/catalog/:id",component:D}),Object(R.jsx)(x.b,{path:"/js-band-store/cart",component:v}),Object(R.jsx)(x.b,{path:"/js-band-store/cart",component:P})]})};s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(n.a,{store:h,children:Object(R.jsx)(w,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0eda6bff.chunk.js.map